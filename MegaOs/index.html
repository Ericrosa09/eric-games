<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=material+icons">
<title>mega os</title>
</head>
<style>
    body {
        margin: 0;
        background-color: black;
    }
    @keyframes boot {
        from {opacity: 0; background-color: black;}
        to {opacity: 1; background-color: rgb(40, 40, 40);}
    }
    .loader {
  border: 4px solid rgba(255, 255, 255, 0.762);
  border-left-color: transparent;
  border-radius: 50%;
}

.loader {
  border: 4px solid rgba(255, 255, 255, 0.625);
  border-left-color: transparent;
  width: 25px;
  height: 50px;
}

.loader {
  border: 4px solid rgba(255, 255, 255, 0.616);
  border-left-color: transparent;
  width: 25px;
  height: 25px;
  animation: spin89345 1s linear infinite;
}

@keyframes spin89345 {
  0% {
    transform:  translate(-50%, -70%) rotate(0deg);
  }

  100% {
    transform:  translate(-50%, -70%) rotate(360deg);
  }
}

.userselect {
    cursor: pointer;
    transition: 0.5s;
    float: left;
    margin: 10px;
}

.userselect:hover {
    transform: scale(1.1);
}

@keyframes slidein {
    from{position: absolute; bottom: -100%;}
    to {position: absolute; bottom: 0%;}
}

::-webkit-slider-runnable-track {
  width: 5px;
}

.itembar {
    transform: scale(1.0);
    transition: 0.5s;
    
}
.itembar:hover {
    transform: scale(0.9);
}
.window {
  position: absolute;
  top: 50px;
  left: 50px;
  width: 400px;
  height: 300px;
    border-radius: 10px;
  background-color: #fff;
  overflow: hidden;
  user-select: none;
}

.title-bar {
  height: 20px;
  padding: 5px;
  background-color: #2c2c2c;
  cursor: move;
}

.title {
  display: inline-block;
  margin-right: 10px;
  color: white;
  font-family: arial, helvetica, sans-serif;
}

.close-btn {
  float: right;
  background: none;
  border: none;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
}
.fullbtn {
  float: right;
  background: none;
  border: none;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
}


.content {

  overflow: auto;
  height: calc(100% - 40px);
}
.contentbackup {
  padding: 10px;
  overflow: auto;
  height: calc(100% - 40px);
}

.resize-handle {
  position: absolute;
  bottom: 0;
  right: 0;
  width: 10px;
  height: 10px;
  background-color: #99999900;
  cursor: nwse-resize;
}

@keyframes slidemenu {
  from {
    bottom: 45px;
  } to {
    bottom: -100%;
  }
}
@keyframes slidemenu2 {
  from {
    bottom: -50%;
  } to {
    
    bottom: 45px;
  }
}

</style>
<body>
    <div id="alert"  style="display: none; position: absolute; left: 50%;border-radius: 15px; top: 5%; transform: translate(-50%, -5%); z-index: 10000; width: fit-content; padding: 0 15px; background-color: rgba(128, 128, 128, 0.578); transition: 0.5s;">
        <h1 id="alerttext" style="font-family: arial, helvetica, sans-serif; color: rgb(0, 0, 0); font-size: medium;">text</h1>
    </div>

    <div id="start" onclick="start()" style="cursor: pointer; background-color: black; width: 100%; height: 100%; position: fixed;">
        <h1 style="font-family:monospace; color: white; left: 50%; transform: translate(-50%, -50%); top: 50%; position: absolute;">click to start</h1>
    </div>

    <div id="bootscreen" style="display: none; background-color: rgb(40, 40, 40); transition: 0.5s; position: fixed; width: 100%; height: 100%;">
        <img style="transform: translate(-50%, -50%); width: 100px; position: absolute; top: 50%; left: 50%;" src="https://github.com/sz-games/sz-games.github.io/blob/main/mega%20os%20icons/icon.png?raw=true"/>
        <div id="loadingboot" style="transition: 0.5s; display: none; position: absolute; top: 70%; left: 50%; " class="loader"></div>
    </div>

    <div id="loginscreen" style="transition: 0.5s; display: none; background: url('https://github.com/sz-games/sz-games.github.io/blob/main/mega%20os%20icons/highreslogin.gif?raw=true'); width: 100%; height: 100%; position: fixed; background-size: cover; background-repeat: no-repeat;">
        <div id="userarea" style="transition: 0.5s; margin: 10px; position: absolute; top: 40%; left: 50%; transform: translate(-50%, -40%); width: fit-content; padding: 25px 50px; border-radius: 30px; background-color: rgba(37, 37, 37, 0.647);">
            <div id="user" onclick="login('fishy')" class="userselect" style="cursor: pointer;">
              
                <img src="https://github.com/sz-games/sz-games.github.io/blob/main/mega%20os%20icons/user.png?raw=true" style="width: 100px; border-radius: 50%;"/>
                <h1 style="text-align: center; color: white; font-family: arial, helvetica, sans-serif; font-size: medium;">fishy</h1>
            </div>
            <div id="guest" onclick="login('guest')" class="userselect" style="cursor: pointer;">
              
                <img src="https://github.com/sz-games/sz-games.github.io/blob/main/mega%20os%20icons/guest.png?raw=true" style="width: 100px; border-radius: 50%;"/>
                <h1 style="text-align: center; color: white; font-family: arial, helvetica, sans-serif; font-size: medium;">guest</h1>
            </div>
        </div>
        <div id="loadinglogin" style="display: none;">
            <h1 style=" color: white; font-family: arial, helvetica, sans-serif; position: absolute; top: 45%; left: 50%; transform: translate(-50%, -50%);">loading</h1>
            <div id="" style="transition: 0.5s;  position: absolute; top: 60%; left: 50%; " class="loader"></div>
        </div>
        <div id="notfound" style="display: none;">
            <h1 style=" color: white; font-family: arial, helvetica, sans-serif; position: absolute; top: 45%; left: 50%; transform: translate(-50%, -50%);">user not found</h1>
            
        </div>
    </div>


    <style>
      .menuitem2 {
        background-color: #2c2c2cd4;
        transition: 0.5s;
      }
      .menuitem2:hover {
        background-color: #707070b0 !important;
        transform: scale(1.06);
      }
     

     
    </style>

   <div  style="display: none; z-index: 100; background: url('https://github.com/sz-games/sz-games.github.io/blob/main/mega%20os%20icons/highreslogin.gif?raw=true'); width: 100%; height: 100%; position: fixed; background-size: cover; background-repeat: no-repeat; " id="desktoparea">

        <div id="menunav" style="display: none; position: absolute; bottom: 45px; border-radius: 15px; left: 10px; width: 180px; height: 250px; background-color: #2c2c2cbe;">
         
          <div onclick="makewindow('explorer', 'https://ericrosa09.github.io/eric-games/megaos/explorer.html')" class="menuitem2" style="z-index: 3; cursor: pointer; background-color: #2c2c2cd4; border-radius: 15px; top: 0; position: relative; height: 35px; width: 100%;">
            <h1  style=" font-family: arial, helvetica, sans-serif; top: -5px; color: white; font-size: large; position: absolute; right: 10px;">browser</h1>
            <img width="30px" style="position: absolute; top: 3px; left: 6px;" src="https://github.com/sz-games/sz-games.github.io/blob/main/mega%20os%20icons/filefolder.png?raw=true"/>
          </div>

          <div onclick="loginscreenback()" class="menuitem2" style="z-index: 3; cursor: pointer; background-color: #2c2c2cd4; border-radius: 15px; top: 0; position: relative; height: 35px; width: 100%;">
            <h1  style=" font-family: arial, helvetica, sans-serif; top: -5px; color: white; font-size: large; position: absolute; right: 10px;">log out</h1>
            <img width="30px" style="position: absolute; top: 3px; left: 6px;" src="https://github.com/sz-games/sz-games.github.io/blob/main/mega%20os%20icons/logout.png?raw=true"/>
          </div>

        </div>


        <div style="display: none;" class="window">
        <div class="title-bar">
          <span class="title">my window</span>

          <span style="color: white;" class="material-icons close-btn">
            close
            </span>
          <!--button class="fullbtn">fullscreen</button-->
          <span style="color: white;" class="material-icons fullbtn">
            open_in_full
            </span>
        </div>
        <div class="content">
          <iframe style="width: 100%; height: 100%;  border: none; position: absolute;" src="https://ericrosa09.github.io/eric-games"></iframe>
        </div>
        <div class="resize-handle"></div>
      </div>

 
    
      
      
      <script>

      </script>


        <div id="bottombar" style="margin: 5px; animation: slidein 0.8s; position: absolute; bottom: 0; background-color: rgba(49, 49, 49, 0.715); height: 35px; width: 99%; border-radius: 30px;">
            <div id="mega" onclick="menudesk()" class="itembar" style=" cursor: pointer; height: 30px; width: 30px; float: left;">
                <img height="32px" src="https://github.com/sz-games/sz-games.github.io/blob/main/mega%20os%20icons/menumega.png?raw=true"/>
            </div>
            <div  style="  height: 30px; width: 5px; float: left;">
               
            </div>
            <div onclick="makewindow('utc games', 'https://ericrosa09.github.io/eric-games')" id="szgames" class="itembar" style=" cursor: pointer; height: 30px; width: 30px; float: left;">
                <img height="32px" src="https://github.com/sz-games/sz-games.github.io/blob/main/g.png?raw=true"/>
            </div>

            <div  style="height: 30px; width: 5px; float: left;">
               
            </div>

            <div onclick="makewindow('mega os browser', 'https://ericrosa09.github.io/eric-games/megaos/web.html')" id="szgames" class="itembar" style=" cursor: pointer; height: 30px; width: 30px; float: left;">
              <img height="32px" src="https://github.com/sz-games/sz-games.github.io/blob/main/mega%20os%20icons/web.png?raw=true"/>
             </div>


            <h1 id="time" style="color: white; right: 5px; position: absolute; font-family: arial, helvetica, sans-serif; font-size: medium; ">--:--</h1>

        </div>


   </div>

    <script>



        var startscreen = document.getelementbyid('start')

        //--stuff for code--

        function makewindow(name, url) {
            // create the elements
                          
                        // create the window div
              const windowdiv = document.createelement('div');
              windowdiv.classlist.add('window');
              var windowscr = document.getelementbyid('desktoparea')
              // create the title bar
              const titlebar = document.createelement('div');
              titlebar.classlist.add('title-bar');

              // create the title span
              const titlespan = document.createelement('span');
              titlespan.classlist.add('title');
              titlespan.textcontent = name;
              titlebar.appendchild(titlespan);

              // create the close button
              const closebtn = document.createelement('span');
              closebtn.classlist.add('material-icons', 'close-btn');
              closebtn.style.color = 'white';
              closebtn.textcontent = 'close';
              titlebar.appendchild(closebtn);

              // create the fullscreen button
              const fullbtn = document.createelement('span');
              fullbtn.classlist.add('material-icons', 'fullbtn');
              fullbtn.style.color = 'white';
              fullbtn.textcontent = 'open_in_full';
              titlebar.appendchild(fullbtn);

              // add the title bar to the window div
              windowdiv.appendchild(titlebar);

              // create the content div
              const contentdiv = document.createelement('div');
              contentdiv.classlist.add('content');

              // create the iframe
              const iframe = document.createelement('iframe');
              iframe.style.width = '100%';
              iframe.style.height = '100%';
              iframe.style.border = 'none';
              iframe.style.position = 'absolute';
              iframe.src = url;

              // add the iframe to the content div
              contentdiv.appendchild(iframe);

              // add the content div to the window div
              windowdiv.appendchild(contentdiv);

              // create the resize handle
              const resizehandle = document.createelement('div');
              resizehandle.classlist.add('resize-handle');

              // add the resize handle to the window div
              windowdiv.appendchild(resizehandle);

              // add the window div to the body of the page
              document.body.appendchild(windowdiv);
              windowscr.appendchild(windowdiv)
            setupwindowfunctions()
        }
        var opened = false
        function menudesk() {
          if(opened===true) {  
          
          animationadd('menunav', 'slidemenu', '0.8')
          settimeout(() => {
            hide('menunav')
            opened = false
          }, 500);
          } else if(opened===false) {
            show('menunav')
            animationadd('menunav', 'slidemenu2', '0.8')
            opened=true
          }
        }

        function alertmsg(msg) {
            showfade('alert')
            setinnerhtml('alerttext', msg)
            settimeout(() => {
                hide('alert')
            }, 5000);
        }
        function hide(item) {
            document.getelementbyid(item).style.display = "none"
        }

        function setinnerhtml(item, msg) {
            document.getelementbyid(item).innerhtml = msg;
        }

        function show(item) {
            document.getelementbyid(item).style.display = "block"
        }
        function showfade(item) {
            document.getelementbyid(item).style.opacity = 0;

            document.getelementbyid(item).style.display = "block"
            settimeout(() => {
                document.getelementbyid(item).style.opacity = 1
            }, 300);
            
        }
        function animationadd(item, name, dur) {
            document.getelementbyid(item).style.animation = name + " " + dur + "s"
        }
        
        //--this will have boot screen functions--


        //--event functions--

        function start() {
            hide('start')
            settimeout(() => {
                animationadd('bootscreen', "boot", "0.5")
                show('bootscreen')
                settimeout(() => {
                    showfade('loadingboot')
                    settimeout(() => {
                        hide('bootscreen')
                        settimeout(() => {
                            loginscreen()
                        }, 500);
                    }, 3000);
                }, 1000);
            }, 300);
           
        }
        

        function loginscreen() {
            showfade('loginscreen')
            showfade('userarea')
        }
        function loginscreenback() {
            hide('desktoparea')
            hide('start')
            showfade('loginscreen')
            showfade('userarea')
        }
        function login(user) {
            if(user==='fishy') {
                setupdesktop('fishy')
                
            }
             else {
                nouser()
            }
        }
        function setupdesktop(user) {
            hide('userarea')
            show('loadinglogin')

            setupwindowfunctions()
            alertmsg('loaded desktop window scripts!')
            settimeout(() => {
                showfade('desktoparea')
                hide('loadinglogin')
            }, 4000);
            settime()
        }

        //--desktop setup--

        function setupwindowfunctions() {
            let windows = document.queryselectorall('.window');
let isresizing = false;
let isdragging = false;
let resizehandlewlet 
let resizehandlewidth = 10;
let resizehandleel = document.queryselectorall('.window');

let windowel = document.queryselector('.window');
let x = 0;idth = 10;

let minwidth = 200;
let minheight = 150;
let initialwidth = 0;
let initialheight = 0;
let initialx = 0;
let initialy = 0;
let initialmousex = 0;
let initialmousey = 0;
let activewindow = null;

// add event listeners for resizing and dragging each window
for (let i = 0; i < windows.length; i++) {
  let windowel = windows[i];
  let resizehandleel = windowel.queryselector('.resize-handle');
  let titlebarel = windowel.queryselector('.title-bar');
  let closebtnel = windowel.queryselector('.close-btn');
  let fullbt = windowel.queryselector('.fullbtn');
  var isfull = false

  resizehandleel.addeventlistener('mousedown', function(e) {
    initialwidth = windowel.offsetwidth;
    initialheight = windowel.offsetheight;
    isresizing = true;
    activewindow = windowel;
  });

  titlebarel.addeventlistener('mousedown', function(e) {
    isdragging = true;
    initialmousex = e.clientx;
    initialmousey = e.clienty;
    initialx = windowel.offsetleft;
    initialy = windowel.offsettop;
    activewindow = windowel;
  });

  closebtnel.addeventlistener('click', function() {
    windowel.style.display = 'none';
  });

  fullbt.addeventlistener('click', function() {
    if(isfull===false) {
    windowel.style.width = '100%';
    windowel.style.height = '100%';
    windowel.style.zindex = "105"
    windowel.style.position = "fixed"
    activewindow = windowel;
    activewindow.style.left = 0 + 'px';
    activewindow.style.top = 0 + 'px';
    isfull = true
    } else {
        windowel.style.width = '300px';
    windowel.style.height = '300px';
    windowel.style.zindex = "101"
    windowel.style.position = "absolute"
    isfull = false
    }
  });

}

document.addeventlistener('mousemove', function(e) {
  if (isresizing && activewindow) {
    let width = initialwidth + (e.clientx - activewindow.offsetleft - initialwidth);
    let height = initialheight + (e.clienty - activewindow.offsettop - initialheight);
    activewindow.style.width = math.max(width, minwidth) + 'px';
    activewindow.style.height = math.max(height, minheight) + 'px';
  } else if (isdragging && activewindow) {
    let dx = e.clientx - initialmousex;
    let dy = e.clienty - initialmousey;
    var stuff1 = initialmousey + dy;
  
      activewindow.style.top = stuff1 + 'px';
  


  
      activewindow.style.left = (initialx + dx) + 'px';

  } else {
    for (let i = 0; i < windows.length; i++) {
      let windowel = windows[i];
      if (e.clientx > windowel.offsetleft + windowel.offsetwidth - resizehandlewidth &&
         e.clienty > windowel.offsettop + windowel.offsetheight - resizehandlewidth) {
        windowel.style.cursor = 'nwse-resize';
      } else {
        windowel.style.cursor = 'default';
      }
    }
  }
});

document.addeventlistener('mouseup', function(e) {
  isresizing = false;
  isdragging = false;
  activewindow = null;
});



        }

        function settime() {
            setinterval(() => {
                let now = new date();
                let hours = now.gethours();
                let minutes = now.getminutes();
                let ampm = hours >= 12 ? 'pm' : 'am';
                hours = hours % 12;
                hours = hours ? hours : 12;
                minutes = minutes < 10 ? '0'+minutes : minutes;
                let timestring = hours + ':' + minutes + ' ' + ampm;
                


                setinnerhtml('time', timestring)
            }, 1000);
        }

        function nouser(user) {
            hide('userarea')
            show('notfound')
        }


    </script>
</body>
</html>
