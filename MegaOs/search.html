<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=material+icons">
<title>mega os</title>
</head>
<style>
    body {
        margin: 0;
        background-color: rgba(150, 150, 150, 0);
    }
    @keyframes boot {
        from {opacity: 0; background-color: black;}
        to {opacity: 1; background-color: rgb(40, 40, 40);}
    }
    .loader {
  border: 4px solid rgba(255, 255, 255, 0.762);
  border-left-color: transparent;
  border-radius: 50%;
}

.loader {
  border: 4px solid rgba(255, 255, 255, 0.625);
  border-left-color: transparent;
  width: 25px;
  height: 50px;
}

.loader {
  border: 4px solid rgba(255, 255, 255, 0.616);
  border-left-color: transparent;
  width: 25px;
  height: 25px;
  animation: spin89345 1s linear infinite;
}

@keyframes spin89345 {
  0% {
    transform:  translate(-50%, -70%) rotate(0deg);
  }

  100% {
    transform:  translate(-50%, -70%) rotate(360deg);
  }
}

.userselect {
    cursor: pointer;
    transition: 0.5s;
    float: left;
    margin: 10px;
}

.userselect:hover {
    transform: scale(1.1);
}

@keyframes slidein {
    from{position: absolute; bottom: -100%;}
    to {position: absolute; bottom: 0%;}
}

::-webkit-slider-runnable-track {
  width: 5px;
}

.itembar {
    transform: scale(1.0);
    transition: 0.5s;
    
}
.itembar:hover {
    transform: scale(0.9);
}
.window {
  position: absolute;
  top: 50px;
  left: 50px;
  width: 400px;
  height: 300px;
    border-radius: 10px;
  background-color: #fff;
  overflow: hidden;
  user-select: none;
}

.title-bar {
  height: 20px;
  padding: 5px;
  background-color: #2c2c2c;
  cursor: move;
}

.title {
  display: inline-block;
  margin-right: 10px;
  color: white;
  font-family: arial, helvetica, sans-serif;
}

.close-btn {
  float: right;
  background: none;
  border: none;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
}
.fullbtn {
  float: right;
  background: none;
  border: none;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
}


.content {

  overflow: auto;
  height: calc(100% - 40px);
}
.contentbackup {
  padding: 10px;
  overflow: auto;
  height: calc(100% - 40px);
}

.resize-handle {
  position: absolute;
  bottom: 0;
  right: 0;
  width: 10px;
  height: 10px;
  background-color: #99999900;
  cursor: nwse-resize;
}

</style>
<body>
   


  <script async src="https://cse.google.com/cse.js?cx=959379c90dd014121">
  </script>
 
  <div style="" class="gcse-search">
    
  </div>
    
      
     

    <script>



        var startscreen = document.getelementbyid('start')

        //--stuff for code--

        function makewindow(name, url) {
            // create the elements
                          
                        // create the window div
              const windowdiv = document.createelement('div');
              windowdiv.classlist.add('window');
              var windowscr = document.getelementbyid('desktoparea')
              // create the title bar
              const titlebar = document.createelement('div');
              titlebar.classlist.add('title-bar');

              // create the title span
              const titlespan = document.createelement('span');
              titlespan.classlist.add('title');
              titlespan.textcontent = name;
              titlebar.appendchild(titlespan);

              // create the close button
              const closebtn = document.createelement('span');
              closebtn.classlist.add('material-icons', 'close-btn');
              closebtn.style.color = 'white';
              closebtn.textcontent = 'close';
              titlebar.appendchild(closebtn);

              // create the fullscreen button
              const fullbtn = document.createelement('span');
              fullbtn.classlist.add('material-icons', 'fullbtn');
              fullbtn.style.color = 'white';
              fullbtn.textcontent = 'open_in_full';
              titlebar.appendchild(fullbtn);

              // add the title bar to the window div
              windowdiv.appendchild(titlebar);

              // create the content div
              const contentdiv = document.createelement('div');
              contentdiv.classlist.add('content');

              // create the iframe
              const iframe = document.createelement('iframe');
              iframe.style.width = '100%';
              iframe.style.height = '100%';
              iframe.style.border = 'none';
              iframe.style.position = 'absolute';
              iframe.src = url;

              // add the iframe to the content div
              contentdiv.appendchild(iframe);

              // add the content div to the window div
              windowdiv.appendchild(contentdiv);

              // create the resize handle
              const resizehandle = document.createelement('div');
              resizehandle.classlist.add('resize-handle');

              // add the resize handle to the window div
              windowdiv.appendchild(resizehandle);

              // add the window div to the body of the page
              document.body.appendchild(windowdiv);
              windowscr.appendchild(windowdiv)
            setupwindowfunctions()
        }

        function alertmsg(msg) {
            showfade('alert')
            setinnerhtml('alerttext', msg)
            settimeout(() => {
                hide('alert')
            }, 5000);
        }
        function hide(item) {
            document.getelementbyid(item).style.display = "none"
        }

        function setinnerhtml(item, msg) {
            document.getelementbyid(item).innerhtml = msg;
        }

        function show(item) {
            document.getelementbyid(item).style.display = "block"
        }
        function showfade(item) {
            document.getelementbyid(item).style.opacity = 0;

            document.getelementbyid(item).style.display = "block"
            settimeout(() => {
                document.getelementbyid(item).style.opacity = 1
            }, 300);
            
        }
        function animationadd(item, name, dur) {
            document.getelementbyid(item).style.animation = name + " " + dur + "s"
        }
        
        //--this will have boot screen functions--


        //--event functions--

        function start() {
            hide('start')
            settimeout(() => {
                animationadd('bootscreen', "boot", "0.5")
                show('bootscreen')
                settimeout(() => {
                    showfade('loadingboot')
                    settimeout(() => {
                        hide('bootscreen')
                        settimeout(() => {
                            loginscreen()
                        }, 500);
                    }, 3000);
                }, 1000);
            }, 300);
           
        }
        

        function loginscreen() {
            showfade('loginscreen')
            showfade('userarea')
        }

        function login(user) {
            if(user==='fishy') {
                setupdesktop('fishy')
                
            }
             else {
                nouser()
            }
        }
        function setupdesktop(user) {
            hide('userarea')
            show('loadinglogin')
            setupwindowfunctions()
            alertmsg('loaded desktop window scripts!')
            settimeout(() => {
                showfade('desktoparea')
            }, 4000);
            settime()
        }

        //--desktop setup--

        function setupwindowfunctions() {
            let windows = document.queryselectorall('.window');
let isresizing = false;
let isdragging = false;
let resizehandlewlet 
let resizehandlewidth = 10;
let resizehandleel = document.queryselectorall('.window');

let windowel = document.queryselector('.window');
let x = 0;idth = 10;

let minwidth = 200;
let minheight = 150;
let initialwidth = 0;
let initialheight = 0;
let initialx = 0;
let initialy = 0;
let initialmousex = 0;
let initialmousey = 0;
let activewindow = null;

// add event listeners for resizing and dragging each window
for (let i = 0; i < windows.length; i++) {
  let windowel = windows[i];
  let resizehandleel = windowel.queryselector('.resize-handle');
  let titlebarel = windowel.queryselector('.title-bar');
  let closebtnel = windowel.queryselector('.close-btn');
  let fullbt = windowel.queryselector('.fullbtn');
  var isfull = false

  resizehandleel.addeventlistener('mousedown', function(e) {
    initialwidth = windowel.offsetwidth;
    initialheight = windowel.offsetheight;
    isresizing = true;
    activewindow = windowel;
  });

  titlebarel.addeventlistener('mousedown', function(e) {
    isdragging = true;
    initialmousex = e.clientx;
    initialmousey = e.clienty;
    initialx = windowel.offsetleft;
    initialy = windowel.offsettop;
    activewindow = windowel;
  });

  closebtnel.addeventlistener('click', function() {
    windowel.style.display = 'none';
  });

  fullbt.addeventlistener('click', function() {
    if(isfull===false) {
    windowel.style.width = '100%';
    windowel.style.height = '100%';
    windowel.style.zindex = "105"
    windowel.style.position = "fixed"
    activewindow = windowel;
    activewindow.style.left = 0 + 'px';
    activewindow.style.top = 0 + 'px';
    
    } else {
        windowel.style.width = '100px';
    windowel.style.height = '100px';
    windowel.style.zindex = "101"
    windowel.style.position = "absolute"
    }
  });
}

document.addeventlistener('mousemove', function(e) {
  if (isresizing && activewindow) {
    let width = initialwidth + (e.clientx - activewindow.offsetleft - initialwidth);
    let height = initialheight + (e.clienty - activewindow.offsettop - initialheight);
    activewindow.style.width = math.max(width, minwidth) + 'px';
    activewindow.style.height = math.max(height, minheight) + 'px';
  } else if (isdragging && activewindow) {
    let dx = e.clientx - initialmousex;
    let dy = e.clienty - initialmousey;
    activewindow.style.left = (initialx + dx) + 'px';
    activewindow.style.top = (initialy + dy) + 'px';
  } else {
    for (let i = 0; i < windows.length; i++) {
      let windowel = windows[i];
      if (e.clientx > windowel.offsetleft + windowel.offsetwidth - resizehandlewidth &&
         e.clienty > windowel.offsettop + windowel.offsetheight - resizehandlewidth) {
        windowel.style.cursor = 'nwse-resize';
      } else {
        windowel.style.cursor = 'default';
      }
    }
  }
});

document.addeventlistener('mouseup', function(e) {
  isresizing = false;
  isdragging = false;
  activewindow = null;
});



        }

        function settime() {
            setinterval(() => {
                let now = new date();
                let hours = now.gethours();
                let minutes = now.getminutes();
                let ampm = hours >= 12 ? 'pm' : 'am';
                hours = hours % 12;
                hours = hours ? hours : 12;
                minutes = minutes < 10 ? '0'+minutes : minutes;
                let timestring = hours + ':' + minutes + ' ' + ampm;
                


                setinnerhtml('time', timestring)
            }, 1000);
        }

        function nouser(user) {
            hide('userarea')
            show('notfound')
        }


    </script>
</body>
</html>
